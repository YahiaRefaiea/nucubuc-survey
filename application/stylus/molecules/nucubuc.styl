nucubuc-width= baseline*3
nucubuc-origin= nucubuc-width*2.3
letterPathLength= 73px
nucubuc-margin= baseline*1.5

nucubucMargin(container)
  margin-top: -(container/2) + nucubuc-width + nucubuc-margin

symbol(a, b, c)
  top: unit(a, px)
  left: unit(b, px)
  background-color: c
symbolRotate(min, max, delay=0)
  d= 0
  for i in min..max
    d= (d+step)*pattern
    &:nth-child({i})
      animation: rotate+i durationAlt easing unit(delay+d, 's') infinite
      @keyframes rotate{i}
        100%
          transform: rotate(360deg)

//  NUCUBUC
#nucubuc
  makeAbsolute: 50% 50%
  width: nucubuc-width
  height: nucubuc-width
  margin-top: -(presentHeight/2)
  margin-{align}: -(nucubuc-width/2)
  hasTransition: durationAlt
  div, svg
    display: block
    makeAbsolute()
.waiting #nucubuc
  margin-{align}: -(nucubuc-origin/2)
.survey #nucubuc
  {align}: 50% + ((100% - surveyWidth)/2)
.callback #nucubuc
  margin-top: -(presentHeight/2) !important

.questions
  &.feeling #nucubuc
    margin-top: -(feelingHeight/2)
  &.spelling #nucubuc
    margin-top: -(spellingHeight/2)
  &.impressionFirst #nucubuc
    margin-top: -(impressionFirstHeight/2)
  &.impressionNow #nucubuc
    margin-top: -(impressionNowHeight/2)
  &.impressionChanged #nucubuc
    margin-top: -(impressionChangedHeight/2)
  &.value #nucubuc
    margin-top: -(valueHeight/2)
  &.nonValue #nucubuc
    margin-top: -(nonValueHeight/2)
  &.mistake #nucubuc
    margin-top: -(mistakeHeight/2)
  &.expectation #nucubuc
    margin-top: -(expectationHeight/2)
  &.expectationNow #nucubuc
    margin-top: -(expectationNowHeight/2)
  &.messageNucubuc #nucubuc
    margin-top: -(messageNucubucHeight/2)
  &.messageYahia #nucubuc
    margin-top: -(messageYahiaHeight/2)
  &.contact #nucubuc
    margin-top: -(contactHeight/2)

//  SYMBOL
#nucubuc .symbol
  width: nucubuc-width
  height: nucubuc-width
  > div
    width: nucubuc-width
    height: nucubuc-width
    animation: none
    > div
      width: 78px
      height: 78px
      border-radius: 50%
    &:nth-child(1) > div
      symbol: 0 6 nuc4
    &:nth-child(2) > div
      symbol: 1 0 nuc3
    &:nth-child(3) > div
      width: 74px
      height: 74px
      symbol: 6 3 nuc2
    &:nth-child(4) > div
      symbol: 6 5 nuc1
.waiting #nucubuc .symbol > div
  width: nucubuc-origin
  symbolRotate: 1 4

//  SVG
#nucubuc svg
  fill: none
  stroke: #fff
  stroke-linecap: round

//  MAIN (LETTER)
#nucubuc .main
  stroke-width: 8
  stroke-dasharray: letterPathLength
  stroke-dashoffset: -(letterPathLength)
  opacity: 0
  animation: letterIn durationAlt easing forwards
  @keyframes letterIn
    100%
      opacity: 1
      stroke-dashoffset: 0
.waiting #nucubuc .main
  stroke-dashoffset: 0
  opacity: 1
  animation: letterOut (durationAlt/2) easing forwards
  @keyframes letterOut
    100%
      opacity: 0
      stroke-dashoffset: letterPathLength
.waiting.page #nucubuc .main
  opacity: 0
  animation: none
